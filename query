traces
| summarize Count = count(), Earliest = min(timestamp), Latest = max(timestamp) by operation_Id
| order by Count desc
traces
| extend TraceId = tostring(customDimensions.TraceId)
| summarize Count = count(), Messages = make_list(message) by TraceId
traces
| extend MyId = tostring(customDimensions.MyId)
| summarize Messages = make_list(message), Count = count() by MyId
traces
| summarize Messages = make_list(pack("time", timestamp, "msg", message)) by operation_Id
traces
| extend TraceId = operation_Id   // or replace with customDimensions.MyId
| summarize Messages = make_list(pack("time", timestamp, "msg", message)) by TraceId
| project TraceId, OrderedMessages = array_sort(Messages, "time")
traces
| extend TraceId = operation_Id   // or tostring(customDimensions.MyId)
| order by TraceId asc, timestamp asc
| project TraceId, timestamp, message, severityLevel
traces
| extend TraceId = operation_Id
| project TraceId, timestamp, message
| summarize arr = make_list(pack("t", timestamp, "m", message)) by TraceId
| mv-expand arr
| order by TraceId, todatetime(arr.t) asc
| summarize Ordered = make_list(arr) by TraceId
traces
| where severityLevel > 2
| order by timestamp desc
| project timestamp, cloud_RoleName, severityLevel, message, operation_Id

traces
| summarize HasError = any(severityLevel > 2) by operation_Id
| join kind=inner (
    traces
    | project operation_Id, timestamp, severityLevel, message, cloud_RoleName
) on operation_Id
| where HasError == true
| order by operation_Id asc, timestamp asc

